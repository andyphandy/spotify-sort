{"version":3,"sources":["components/Header/Header.js","components/Login/Login.js","components/PlaylistForm.js","components/PlaylistHeader/PlaylistHeader.js","components/TracksHeader.js","components/PlaylistTracks/PlaylistTracks.js","components/SortForm.js","components/Playlist.js","App.js","index.js"],"names":["Header","props","accessToken","getUserId","logout","useState","image","setImage","name","setName","useEffect","fetch","method","headers","Authorization","then","checkStatus","resp","json","data","body","images","url","display_name","split","id","catch","handleError","Container","className","Row","Col","xs","src","alt","Button","onClick","response","ok","Error","statusText","err","console","log","Login","AOS","init","duration","refresh","href","PlaylistForm","userId","onSubmit","playlists","setPlaylists","chosen","setChosen","filter","playlist","collaborative","owner","Form","event","Group","controlId","Label","Control","as","value","onChange","target","map","key","type","PlaylistHeader","playlistId","playlistImg","setImg","playlistName","playlistOwner","setOwner","playlistFollowed","setFollowed","playlistTotal","setTotal","followers","total","tracks","span","offset","TracksHeader","PlaylistTracks","info","setInfo","apiHeader","trackData","item","track","trackIds","JSON","stringify","newInfo","i","length","push","features","ListGroup","ListItem","index","Item","artists","string","forEach","artist","slice","artistString","album","release_date","popularity","danceability","energy","mode","keyMode","Math","round","tempo","valence","SortForm","sort","preventDefault","Playlist","trackInfo","setTrackInfo","canCreate","setCanCreate","buttonMsg","setButtonMsg","selected","sortedInfo","category","indexOf","isAscending","parseInt","sortStringHelper","a","b","sortArtist","sortArtistHelper","sortNumHelper","params","FormData","append","trackUris","song","uri","disabled","key1","key2","key3","undefined","sortTwoKeys","sortThreeKeys","sortNumKeys","newA","newB","replace","toLowerCase","App","setAccess","loggedIn","setLoggedIn","setUserId","setPlaylistId","hash","window","location","substring","reduce","initial","parts","decodeURIComponent","history","replaceState","access_token","handleSubmit","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.abbe5211.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './Header.css';\r\n\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nexport default function Header(props) {\r\n  const { accessToken, getUserId, logout } = props;\r\n  const [image, setImage] = useState('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEUAAACgoKCjo6Oqqqq0tLS+vr7Ly8unp6e7u7ve3t6ampr+/v7z8/Pl5eXZ2dnR0dHz7OghAAABa0lEQVR4nO3dTU4CQRhF0SqgAfGH/e9WB050IjHpdG5zTm3g3Xkl33h9e/+4n8/LslxPX47fLocf5v8d/nQ5PuL0iOW368s4jX277b5wKsyb47j1hJUp7FPYp7BPYZ/CvmcovGw9YWVzHLaesDKFfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9insU9insE9hn8K++fX2TWGfwj6FfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9insU9insE9hn8I+hX3PULj/H0MK6xT2KexT2KewT2Gfwj6FfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9inse4bC/d8o2f+dGYV1CvsU9insU9insE9hn8I+hX0K+xT2KexT2KewT2Gfwj6FfQr75jhtPWFlCvsU9insU9insE9hn8I+hX0K+xT2KexT2KewT2Gfwj6FfQr7FPbNsWw9YWUK+xT2KexT2KewT2Gfwj6FfXNct56wstt4uc09u90/AQvyBvXPGneWAAAAAElFTkSuQmCC');\r\n  const [name, setName] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch('/getMe', {\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      }\r\n    })\r\n      .then(checkStatus)\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        let body = data.body;\r\n        setImage(body.images[0].url);\r\n        setName(body.display_name.split(\" \")[0]);\r\n        getUserId(body.id);\r\n      })\r\n      .catch(handleError);\r\n  }, []);\r\n\r\n  return (\r\n    <Container className=\"my-4\">\r\n    <Row>\r\n      <Col xs={10} className=\"d-flex align-items-center\">\r\n      <img src={image} alt=\"Profile pic\" id=\"profile-pic\" className='mr-2'></img>\r\n        <h2>Welcome, {name}!</h2>\r\n      </Col>\r\n      <Col xs={2} className='d-flex justify-content-end align-items-center'>\r\n        <Button onClick={logout}>Logout</Button>\r\n      </Col>\r\n    </Row>\r\n  </Container>\r\n  );\r\n}\r\n\r\nfunction checkStatus(response) {\r\n  if (response.ok) {\r\n    return response;\r\n  }\r\n  throw Error(\"Error in request: \" + response.statusText);\r\n}\r\n\r\nfunction handleError(err) {\r\n  console.log(err)\r\n}","import React, { useEffect } from 'react';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport AOS from 'aos';\r\nimport 'aos/dist/aos.css';\r\nimport './Login.css';\r\n\r\nimport Container from 'react-bootstrap/Container';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nexport default function Login() {\r\n  useEffect(() => {\r\n    AOS.init( {\r\n      duration: 2000,\r\n    });\r\n    AOS.refresh();\r\n  }, []);\r\n\r\n  return (\r\n    <Container className='my-5 text-center p-5'>\r\n      <h1>SpotifySort.</h1>\r\n      <p className='mb-4'>by Andy Phan</p>\r\n      <a href='/login'><Button className='my-4 btn-green'>Login to Spotify</Button></a>\r\n    </Container>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Container from 'react-bootstrap/Container';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nexport default function PlaylistForm(props) {\r\n  const { userId, accessToken, onSubmit } = props;\r\n  const [playlists, setPlaylists] = useState([]);\r\n  const [chosen, setChosen] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      fetch('/playlists/getUserPlaylists', {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer ${accessToken}`,\r\n        }\r\n      })\r\n        .then(checkStatus)\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          data = data.filter(playlist => playlist.collaborative || playlist.owner.id === userId);\r\n          setPlaylists(data)\r\n          if (data[0]) {\r\n            setChosen(data[0].id);\r\n          }\r\n        })\r\n        .catch(handleError);\r\n    }\r\n  }, [userId]);\r\n\r\n  return (\r\n    <Container>\r\n      <Form onSubmit={event => onSubmit(event, chosen)}>\r\n        <Form.Group controlId='form-playlist'>\r\n          <Form.Label>Choose one of your playlists:</Form.Label>\r\n          <Form.Control as='select' value={chosen} onChange={event => setChosen(event.target.value)}>\r\n            {\r\n              playlists.map(playlist => <option key={playlist.id} value={playlist.id}>{playlist.name}</option>)\r\n            }\r\n          </Form.Control>\r\n        </Form.Group>\r\n        <Button type='submit' className='btn-primary w-100'>Start</Button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n\r\nfunction checkStatus(response) {\r\n  if (response.ok) {\r\n    return response;\r\n  }\r\n  throw Error(\"Error in request: \" + response.statusText);\r\n}\r\n\r\nfunction handleError(err) {\r\n  console.log(err)\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './PlaylistHeader.css';\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nexport default function PlaylistHeader(props) {\r\n  const { playlistId, accessToken } = props;\r\n  const [playlistImg, setImg] = useState('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEUAAACgoKCjo6Oqqqq0tLS+vr7Ly8unp6e7u7ve3t6ampr+/v7z8/Pl5eXZ2dnR0dHz7OghAAABa0lEQVR4nO3dTU4CQRhF0SqgAfGH/e9WB050IjHpdG5zTm3g3Xkl33h9e/+4n8/LslxPX47fLocf5v8d/nQ5PuL0iOW368s4jX277b5wKsyb47j1hJUp7FPYp7BPYZ/CvmcovGw9YWVzHLaesDKFfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9insU9insE9hn8K++fX2TWGfwj6FfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9insU9insE9hn8I+hX3PULj/H0MK6xT2KexT2KewT2Gfwj6FfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9inse4bC/d8o2f+dGYV1CvsU9insU9insE9hn8I+hX0K+xT2KexT2KewT2Gfwj6FfQr75jhtPWFlCvsU9insU9insE9hn8I+hX0K+xT2KexT2KewT2Gfwj6FfQr7FPbNsWw9YWUK+xT2KexT2KewT2Gfwj6FfXNct56wstt4uc09u90/AQvyBvXPGneWAAAAAElFTkSuQmCC');\r\n  const [playlistName, setName] = useState('N/A');\r\n  const [playlistOwner, setOwner] = useState('N/A');\r\n  const [playlistFollowed, setFollowed] = useState(0);\r\n  const [playlistTotal, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (playlistId !== '') {\r\n      fetch(`/playlists/getPlaylist?playlistId=${playlistId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer ${accessToken}`,\r\n        }\r\n      })\r\n        .then(checkStatus)\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          let body = data.body;\r\n          if (body.images[0]) {\r\n            setImg(body.images[0].url);\r\n          } else {\r\n            setImg('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEUAAACgoKCjo6Oqqqq0tLS+vr7Ly8unp6e7u7ve3t6ampr+/v7z8/Pl5eXZ2dnR0dHz7OghAAABa0lEQVR4nO3dTU4CQRhF0SqgAfGH/e9WB050IjHpdG5zTm3g3Xkl33h9e/+4n8/LslxPX47fLocf5v8d/nQ5PuL0iOW368s4jX277b5wKsyb47j1hJUp7FPYp7BPYZ/CvmcovGw9YWVzHLaesDKFfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9insU9insE9hn8K++fX2TWGfwj6FfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9insU9insE9hn8I+hX3PULj/H0MK6xT2KexT2KewT2Gfwj6FfQr7FPYp7FPYp7BPYZ/CPoV9CvsU9inse4bC/d8o2f+dGYV1CvsU9insU9insE9hn8I+hX0K+xT2KexT2KewT2Gfwj6FfQr75jhtPWFlCvsU9insU9insE9hn8I+hX0K+xT2KexT2KewT2Gfwj6FfQr7FPbNsWw9YWUK+xT2KexT2KewT2Gfwj6FfXNct56wstt4uc09u90/AQvyBvXPGneWAAAAAElFTkSuQmCC');\r\n          }\r\n          setName(body.name);\r\n          setOwner(body.owner.display_name);\r\n          setFollowed(body.followers.total);\r\n          setTotal(body.tracks.total);\r\n        })\r\n        .catch(handleError);\r\n    }\r\n  }, [playlistId]);\r\n\r\n  return (\r\n    <Row className='info d-flex align-items-center'>\r\n      <Col xs={1}>\r\n        <img src={playlistImg} alt='Playlist pic' className='my-2' id='playlist-img'></img>\r\n      </Col>\r\n      <Col xs={3}>\r\n        <h2 className='header'>PLAYLIST</h2>\r\n        <p className='mb-0'>{playlistName}</p>\r\n      </Col>\r\n      <Col xs={3}>\r\n        <h2 className='header'>CREATED BY</h2>\r\n        <p className='mb-0'>{playlistOwner}</p>\r\n      </Col>\r\n      <Col xs={{span:1,offset:3}} className='text-center'>\r\n       <h2 className='header'>FOLLOWERS</h2>\r\n        <p className='mb-0'>{playlistFollowed}</p>\r\n      </Col>\r\n      <Col xs={1} className='text-center'>\r\n        <h2 className='header'>SONGS</h2>\r\n        <p className='mb-0'>{playlistTotal}</p>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nfunction checkStatus(response) {\r\n  if (response.ok) {\r\n    return response;\r\n  }\r\n  throw Error(\"Error in request: \" + response.statusText);\r\n}\r\n\r\nfunction handleError(err) {\r\n  console.log(err)\r\n}","import React from 'react';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nexport default function TracksHeader() {\r\n  return (\r\n      <Row className='info pt-2 text-center d-flex align-items-center border-top-0'>\r\n        <Col xs={1}>\r\n          <h3 className='header px-0'>#</h3>\r\n        </Col>\r\n        <Col xs={3} className='text-left'>\r\n          <h3 className='header px-0'>TITLE</h3>\r\n          <h3 className='header px-0'>ARTIST</h3>\r\n        </Col>\r\n        <Col xs={2}>\r\n          <h3 className='header px-0 text-left'>RELEASE DATE</h3>\r\n        </Col>\r\n        <Col>\r\n          <h3 className='header px-0'>POPULARITY</h3>\r\n        </Col>\r\n        <Col>\r\n          <h3 className='header px-0'>DANCEABILITY</h3>\r\n        </Col>\r\n        <Col>\r\n          <h3 className='header px-0'>ENERGY</h3>\r\n        </Col>\r\n        <Col>\r\n          <h3 className='header px-0'>KEY</h3>\r\n        </Col>\r\n        <Col>\r\n          <h3 className='header px-0'>TEMPO</h3>\r\n        </Col>\r\n        <Col>\r\n          <h3 className='header px-0'>MOOD</h3>\r\n        </Col>\r\n      </Row>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './PlaylistTracks.css';\r\n\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\n\r\nexport default function PlaylistTracks(props) {\r\n  const { accessToken, playlistId, info, setInfo } = props;\r\n  const apiHeader = {\r\n    method: 'GET',\r\n    headers: {\r\n      Authorization: `Bearer ${accessToken}`,\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (playlistId) {\r\n      fetch(`/playlists/getPlaylistTracks?playlistId=${playlistId}`, apiHeader)\r\n        .then(checkStatus)\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          const trackData = data.map(item => { return item.track });\r\n          let trackIds = JSON.stringify(trackData.map((item) => {return item.id}));\r\n          return fetch(`/tracks/getAudioFeatures?tracks=${trackIds}`, apiHeader)\r\n            .then(checkStatus)\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n              let newInfo = [];\r\n              for (let i = 0; i < data.length; i++) {\r\n                newInfo.push({track: trackData[i], features: data[i]});\r\n              }\r\n              setInfo(newInfo);\r\n            })\r\n        })\r\n        .catch(handleError)\r\n    }\r\n  }, [playlistId]);\r\n\r\n  return (\r\n    <Row>\r\n      <Col className='px-0'>\r\n        <ListGroup as ='ol'>\r\n          {info.map((item, i) => {\r\n            return <ListItem track={item.track} features={item.features} index={i} key={item.track.id}/>\r\n          })}\r\n        </ListGroup>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nfunction ListItem(props) {\r\n  const keys = ['C', 'C#/Db', 'D', 'D#/Eb', 'E', 'F', 'F#/Gb', 'G', 'G#/Ab', 'A', 'A#/Bb', 'B',\r\n    'cm', 'c#/db', 'dm', 'd#/eb', 'em', 'fm', 'f#/gb', 'gm', 'g#/ab', 'am', 'a#/bb', 'bm'];\r\n  const { track, features, index } = props;\r\n\r\n  if (track && features) {\r\n    return (\r\n      <ListGroup.Item as='li'>\r\n          <Row className='d-flex text-right align-items-center'>\r\n            <Col xs={1}>\r\n              <p className='mb-0 px-0 text-center'>{index+1}.</p>\r\n            </Col>\r\n            <Col xs={3} className='text-left'>\r\n              <p className='mb-0 px-0 font-weight-bold'>{track.name}</p>\r\n              <p className='mb-0 px-0'>{artistString(track.artists)}</p>\r\n            </Col>\r\n            <Col xs={2}>\r\n            <p className='mb-0 px-0 text-left'>{track.album.release_date}</p>\r\n            </Col>\r\n            <Col>\r\n              <p className='mb-0 px-0'>{track.popularity}</p>\r\n            </Col>\r\n            <Col>\r\n            <p className='mb-0 px-0'>{features.danceability}</p>\r\n            </Col>\r\n            <Col>\r\n              <p className='mb-0 px-0'>{features.energy}</p>\r\n            </Col>\r\n            <Col>\r\n            <p className='mb-0 px-0'>{keys[keyMode(features)]}</p>\r\n            </Col>\r\n            <Col>\r\n              <p className='mb-0 px-0'>{Math.round(features.tempo / 2) * 2}</p>\r\n            </Col>\r\n            <Col>\r\n            <p className='mb-0 px-0'>{features.valence}</p>\r\n            </Col>\r\n          </Row>\r\n      </ListGroup.Item>\r\n    )\r\n  } else {\r\n    return <div />\r\n  }\r\n}\r\n\r\nfunction artistString(artists) {\r\n  let string = 'by ';\r\n  artists.forEach((artist) => {\r\n    string += artist.name + ', ';\r\n  });\r\n  return string.slice(0, string.length - 2);\r\n}\r\n\r\nfunction keyMode(features) {\r\n  const KEYS = 12;\r\n  return features.key + ((features.mode === 1 ? 0 : 1) * KEYS);\r\n}\r\n\r\nfunction checkStatus(response) {\r\n  if (response.ok) {\r\n    return response;\r\n  }\r\n  throw Error(\"Error in request: \" + response.statusText);\r\n}\r\n\r\nfunction handleError(err) {\r\n  console.log(err)\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nconst MAX_LAYERS = 9;\r\n\r\nexport default function SortForm(props) {\r\n  const { sort } = props;\r\n\r\n  const onChange = (event) => {\r\n    event.preventDefault();\r\n    sort(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <Form>\r\n      <Form.Group controlId='form-sort'>\r\n        <Form.Control as='select' onChange={onChange}>\r\n          <option value='title-0'>Title Ascending</option>\r\n          <option value='title-1'>Title Descending</option>\r\n          <option value='artist-0'>Artist Ascending</option>\r\n          <option value='artist-1'>Artist Descending</option>\r\n          <option value='date-0'>Release Date Ascending</option>\r\n          <option value='date-1'>Release Date Descending</option>\r\n          <option value='popularity-0'>Popularity Ascending</option>\r\n          <option value='popularity-1'>Popularity Descending</option>\r\n          <option value='dance-0'>Danceability Ascending</option>\r\n          <option value='dance-1'>Danceability Descending</option>\r\n          <option value='energy-0'>Energy Ascending</option>\r\n          <option value='energy-1'>Energy Descending</option>\r\n          <option value='key-0'>Key Ascending</option>\r\n          <option value='key-1'>Key Descending</option>\r\n          <option value='tempo-0'>Tempo Ascending</option>\r\n          <option value='tempo-1'>Tempo Descending</option>\r\n          <option value='mood-0'>Mood Ascending</option>\r\n          <option value='mood-1'>Mood Descending</option>\r\n        </Form.Control>\r\n      </Form.Group>\r\n    </Form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport PlaylistHeader from './PlaylistHeader/PlaylistHeader';\r\nimport TracksHeader from './TracksHeader';\r\nimport PlaylistTracks from './PlaylistTracks/PlaylistTracks';\r\nimport SortForm from './SortForm';\r\n\r\nexport default function Playlist(props) {\r\n  const { playlistId, accessToken, userId } = props;\r\n  const [trackInfo, setTrackInfo] = useState([]);\r\n  const [canCreate, setCanCreate] = useState(false);\r\n  const [buttonMsg, setButtonMsg] = useState('Create copy playlist!')\r\n\r\n  useEffect(() => {\r\n    setButtonMsg('Create copy playlist!');\r\n    setCanCreate(true);\r\n  }, [trackInfo])\r\n\r\n  const createPlaylist = () => {\r\n    setButtonMsg('Creating...');\r\n    setCanCreate(false);\r\n    let params = new FormData();\r\n    params.append('id', userId)\r\n    fetch('/playlists/createPlaylist', {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n      body: params\r\n    })\r\n      .then(checkStatus)\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        let id = data.body.id;\r\n        let trackUris = [];\r\n        trackInfo.forEach(song => {\r\n          trackUris.push(song.track.uri);\r\n        })\r\n        let params = new FormData();\r\n        params.append('id', id);\r\n        params.append('trackUris', JSON.stringify(trackUris));\r\n        return (\r\n            fetch('/playlists/addToPlaylist', {\r\n              method: 'POST',\r\n              headers: {\r\n                Authorization: `Bearer ${accessToken}`,\r\n              },\r\n              body: params\r\n            })\r\n              .then(checkStatus)\r\n              .then(() => {\r\n                setButtonMsg('Success!');\r\n              })\r\n        )\r\n      })\r\n      .catch(handleError);\r\n  }\r\n\r\n  const sort = (selected) => {\r\n    let sortedInfo = trackInfo.slice();\r\n    let category = selected.slice(0, trackInfo.indexOf('-')-1);\r\n    let isAscending = parseInt(selected[selected.length-1]) === 0;\r\n    switch(category) {\r\n      case 'title':\r\n        sortStringHelper(sortedInfo, isAscending, 'track', 'name');\r\n        break;\r\n      case 'artist':\r\n        sortArtistHelper(sortedInfo, isAscending);\r\n        break;\r\n      case 'date':\r\n        sortStringHelper(sortedInfo, isAscending, 'track', 'album', 'release_date');\r\n        break;\r\n      case 'popularity':\r\n        sortNumHelper(sortedInfo, isAscending, 'track', 'popularity');\r\n        break;\r\n      case 'dance':\r\n        sortNumHelper(sortedInfo, isAscending, 'features', 'danceability');\r\n        break;\r\n      case 'energy':\r\n        sortNumHelper(sortedInfo, isAscending, 'features', 'energy');\r\n        break;\r\n      case 'key':\r\n        sortNumHelper(sortedInfo, isAscending, 'features', 'key');\r\n        break;\r\n      case 'tempo':\r\n        sortNumHelper(sortedInfo, isAscending, 'features', 'tempo');\r\n        break;\r\n      case 'mood':\r\n        sortNumHelper(sortedInfo, isAscending, 'features', 'valence');\r\n        break;\r\n      default:\r\n        throw new Error('Could not identify category');\r\n    }\r\n    setTrackInfo(sortedInfo);\r\n    setCanCreate(true);\r\n  }\r\n\r\n  return (\r\n    <Container className='mt-5'>\r\n      <SortForm sort={selected => sort(selected)} />\r\n      <Button className='w-100 mb-5 btn-primary' onClick={createPlaylist} disabled={!canCreate}>{buttonMsg}</Button>\r\n      <PlaylistHeader playlistId={playlistId} accessToken={accessToken} />\r\n      <TracksHeader />\r\n      <PlaylistTracks playlistId={playlistId} accessToken={accessToken} info={trackInfo} setInfo={setTrackInfo} />\r\n    </Container>\r\n  );\r\n}\r\n\r\nfunction sortStringHelper(info, isAscending, key1, key2, key3) {\r\n  if (isAscending) {\r\n    if (key3 === undefined) {\r\n      info.sort((a, b) => sortTwoKeys(a, b, key1, key2));\r\n    } else {\r\n      info.sort((a, b) => sortThreeKeys(a, b, key1, key2, key3));\r\n    }\r\n  } else {\r\n    if (key3 === undefined) {\r\n      info.sort((b, a) => sortTwoKeys(a, b, key1, key2));\r\n    } else {\r\n      info.sort((b, a) => sortThreeKeys(a, b, key1, key2, key3));\r\n    }\r\n  }\r\n}\r\n\r\nfunction sortNumHelper(info, isAscending, key1, key2) {\r\n  if (isAscending) {\r\n    info.sort((a, b) => sortNumKeys(a, b, key1, key2));\r\n  } else {\r\n    info.sort((b, a) => sortNumKeys(a, b, key1, key2));\r\n  }\r\n}\r\n\r\nfunction sortNumKeys(a, b, key1, key2) {\r\n  let newA = a[key1][key2];\r\n  let newB = b[key1][key2];\r\n  if (newA < newB) return -1;\r\n  if (newA > newB) return 1;\r\n  return 0;\r\n}\r\n\r\nfunction sortTwoKeys(a, b, key1, key2) {\r\n  let newA = a[key1][key2].replace(/[^A-Za-z0-9]+/, '').toLowerCase();\r\n  let newB = b[key1][key2].replace(/[^A-Za-z0-9]+/, '').toLowerCase();\r\n  if (newA < newB) return -1;\r\n  if (newA > newB) return 1;\r\n  return 0;\r\n}\r\n\r\nfunction sortThreeKeys(a, b, key1, key2, key3) {\r\n  let newA = a[key1][key2][key3].replace(/[^A-Za-z0-9]+/, '').toLowerCase();\r\n  let newB = b[key1][key2][key3].replace(/[^A-Za-z0-9]+/, '').toLowerCase();\r\n  if (newA < newB) return -1;\r\n  if (newA > newB) return 1;\r\n  return 0;\r\n}\r\n\r\nfunction sortArtistHelper(info, isAscending) {\r\n  if (isAscending) {\r\n    info.sort((a, b) => sortArtist(a, b));\r\n  } else {\r\n    info.sort((b, a) => sortArtist(a, b));\r\n  }\r\n}\r\n\r\nfunction sortArtist(a, b) {\r\n  let newA = artistString(a.track.artists).replace(/[^A-Za-z0-9]+/, '').toLowerCase();\r\n  let newB = artistString(b.track.artists).replace(/[^A-Za-z0-9]+/, '').toLowerCase();\r\n  if (newA < newB) return -1;\r\n  if (newA > newB) return 1;\r\n  return 0;\r\n}\r\n\r\nfunction artistString(artists) {\r\n  let string = '';\r\n  artists.forEach((artist) => {\r\n    string += artist.name + ', ';\r\n  });\r\n  return string.slice(0, string.length - 2);\r\n}\r\n\r\nfunction checkStatus(response) {\r\n  if (response.ok) {\r\n    return response;\r\n  }\r\n  throw Error(\"Error in request: \" + response.statusText);\r\n}\r\n\r\nfunction handleError(err) {\r\n  console.log(err)\r\n}","import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nimport Header from './components/Header/Header';\nimport Login from './components/Login/Login';\nimport PlaylistForm from './components/PlaylistForm';\nimport Playlist from './components/Playlist';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default function App() {\n  const [accessToken, setAccess] = useState(undefined);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userId, setUserId] = useState('');\n  const [playlistId, setPlaylistId] = useState('');\n\n  const getUserId = (id) => {\n    setUserId(id);\n  }\n\n  const handleSubmit = (event, chosen) => {\n    event.preventDefault();\n    setPlaylistId(chosen);\n  }\n\n  const logout = () => {\n    setAccess(undefined);\n    setLoggedIn(false);\n    setUserId('');\n    setPlaylistId('');\n  }\n\n  useEffect(() => {\n    const hash = window.location.hash\n    .substring(1)\n    .split('&')\n    .reduce(function (initial, item) {\n      if (item) {\n        let parts = item.split('=');\n        initial[parts[0]] = decodeURIComponent(parts[1]);\n      }\n      return initial;\n    }, {});\n    window.history.replaceState(null, null, ' ');\n    setLoggedIn(typeof hash.access_token !== 'undefined');\n    setAccess(hash.access_token);\n  }, []);\n\n    if (!loggedIn) {\n      return <Login />;\n    } else {\n      return (\n        <div>\n          <Header accessToken={accessToken} getUserId={(id) => getUserId(id)} logout={logout} />\n          <hr></hr>\n          <PlaylistForm userId={userId} accessToken={accessToken} onSubmit={(event, chosen) => handleSubmit(event, chosen)}/>\n          <Playlist accessToken={accessToken} playlistId={playlistId} userId={userId}/>\n        </div>\n      );\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}